@using Aklion.Infrastructure.Utils.DateTime
@{
    ViewBag.Title = "Магазины";
}

<h1>@ViewBag.Title</h1>
<a href="#" class="modal-trigger ui-button btn" data-modal-id="add-store-modal">Добавить</a>
<a href="#" class="modal-trigger ui-button btn" data-modal-id="add-store-modal">Выгрузить в Excel</a>
<br>
<br>

<table id="jqGrid"></table>
<div id="jqGridPager"></div>

@*<div class="scroll-panel">
    <table>
        <thead class="center-align">
        <tr>
            <th>№</th>
            <th>
                Название
                <button class="small-btn right">
                    <i class="fa fa-sort-desc"></i>
                </button>
            </th>
            <th>АПИ-ключ</th>
            <th>АПИ-секрет</th>
            <th>Заблокирован</th>
            <th>Скрыт</th>
            <th>
                Создан
                <button class="small-btn right">
                    <i class="fa fa-sort-desc"></i>
                </button>
            </th>
            <th width="2.5%"></th>
            <th width="2.5%"></th>
        </tr>
        <tr>
            <th></th>
            <th>
                <input type="text" class="full-width">
            </th>
            <th></th>
            <th></th>
            <th>
                <select class="full-width">
                    <option>Не выбрано</option>
                    <option>Да</option>
                    <option selected>Нет</option>
                </select>
            </th>
            <th>
                <select class="full-width">
                    <option>Не выбрано</option>
                    <option>Да</option>
                    <option selected>Нет</option>
                </select>
            </th>
            <th>
                От
                <input type="date" value="@DateTime.Today.ToIsoDateString()">
                до
                <input type="date" value="@DateTime.Today.ToIsoDateString()">
            </th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody id="stores"></tbody>
        <tfoot>
        <tr>
            <th colspan="9">
                <div class="pagination-container">
                    <ul class="pagination">
                        @if (Model.Page > 1)
                            {
                                if (Model.Page > 2)
                                {
                        <li>
                            <a href="#" data-predestination="pagination">1</a>
                            ...
                        </li>
                        }
                                <li>
                                    <a href="#" data-predestination="pagination">@(Model.Page - 1)</a>
                                </li>
                            }
                        <li class="active">
                                <a href="#" data-predestination="pagination">@Model.Page</a>
                            </li>
                        @if (Model.Page < Model.TotalPages)
                            {
                                <li>
                                    <a href="#" data-predestination="pagination">@(Model.Page + 1)</a>
                                </li>
                                if (Model.Page < Model.TotalPages - 1)
                                {
                                    <li>
                                        ...
                                        <a href="#" data-predestination="pagination">@Model.TotalPages</a>
                                    </li>
                                }
                            }
                    </ul>
                </div>
            </th>
        </tr>
        </tfoot>
    </table>
</div>*@
@await Html.PartialAsync("Partials/AddStore").ConfigureAwait(false)

@section Scripts {
    @{
        <environment names="Development">
            <script src="~/scripts/stores/index.js"></script>
        </environment>
        <environment names="Staging,Production">
            <script src="~/scripts/stores/index.min.js"></script>
        </environment>
    }
}